"use strict";(self.webpackChunknathaniel_vaur_henel_github_io=self.webpackChunknathaniel_vaur_henel_github_io||[]).push([[8789],{3905:(e,a,t)=>{t.d(a,{Zo:()=>m,kt:()=>v});var n=t(7294);function r(e,a,t){return a in e?Object.defineProperty(e,a,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[a]=t,e}function l(e,a){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);a&&(n=n.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),t.push.apply(t,n)}return t}function i(e){for(var a=1;a<arguments.length;a++){var t=null!=arguments[a]?arguments[a]:{};a%2?l(Object(t),!0).forEach((function(a){r(e,a,t[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):l(Object(t)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(t,a))}))}return e}function o(e,a){if(null==e)return{};var t,n,r=function(e,a){if(null==e)return{};var t,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||(r[t]=e[t]);return r}(e,a);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)t=l[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var s=n.createContext({}),p=function(e){var a=n.useContext(s),t=a;return e&&(t="function"==typeof e?e(a):i(i({},a),e)),t},m=function(e){var a=p(e.components);return n.createElement(s.Provider,{value:a},e.children)},c="mdxType",u={inlineCode:"code",wrapper:function(e){var a=e.children;return n.createElement(n.Fragment,{},a)}},d=n.forwardRef((function(e,a){var t=e.components,r=e.mdxType,l=e.originalType,s=e.parentName,m=o(e,["components","mdxType","originalType","parentName"]),c=p(t),d=r,v=c["".concat(s,".").concat(d)]||c[d]||u[d]||l;return t?n.createElement(v,i(i({ref:a},m),{},{components:t})):n.createElement(v,i({ref:a},m))}));function v(e,a){var t=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var l=t.length,i=new Array(l);i[0]=d;var o={};for(var s in a)hasOwnProperty.call(a,s)&&(o[s]=a[s]);o.originalType=e,o[c]="string"==typeof e?e:r,i[1]=o;for(var p=2;p<l;p++)i[p]=t[p];return n.createElement.apply(null,i)}return n.createElement.apply(null,t)}d.displayName="MDXCreateElement"},9691:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>s,contentTitle:()=>i,default:()=>u,frontMatter:()=>l,metadata:()=>o,toc:()=>p});var n=t(7462),r=(t(7294),t(3905));const l={tags:["java","langage","d\xe9veloppement"]},i="Changement entre Java 11 et Java 17",o={unversionedId:"java/java-11-17/index",id:"java/java-11-17/index",title:"Changement entre Java 11 et Java 17",description:"Tu vas avoir toutes les modifications qui vont te changer la vie de tous les jours sous les yeux en une seule fois&nbsp;!",source:"@site/docs/02.java/01.java-11-17/index.md",sourceDirName:"02.java/01.java-11-17",slug:"/java/java-11-17/",permalink:"/docs/java/java-11-17/",draft:!1,tags:[{label:"java",permalink:"/docs/tags/java"},{label:"langage",permalink:"/docs/tags/langage"},{label:"d\xe9veloppement",permalink:"/docs/tags/developpement"}],version:"current",frontMatter:{tags:["java","langage","d\xe9veloppement"]},sidebar:"tutorialSidebar",previous:{title:"Java",permalink:"/docs/category/java"},next:{title:"Divers",permalink:"/docs/category/divers"}},s={},p=[{value:"Switch Case",id:"switch-case",level:2},{value:"Class modifier",id:"class-modifier",level:2},{value:"Formatage",id:"formatage",level:2},{value:"Divers",id:"divers",level:2},{value:"Les fiches",id:"les-fiches",level:2},{value:"Informations",id:"informations",level:2},{value:"Pourquoi\xa0?",id:"pourquoi",level:3},{value:"Sources",id:"sources",level:3},{value:"Auteurs",id:"auteurs",level:3}],m={toc:p},c="wrapper";function u(e){let{components:a,...l}=e;return(0,r.kt)(c,(0,n.Z)({},m,l,{components:a,mdxType:"MDXLayout"}),(0,r.kt)("h1",{id:"changement-entre-java-11-et-java-17"},"Changement entre Java 11 et Java 17"),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"Tu vas avoir toutes les modifications qui vont te changer la vie de tous les jours sous les yeux en une seule fois","\xa0","!")),(0,r.kt)("h2",{id:"switch-case"},"Switch Case"),(0,r.kt)("admonition",{type:"tip"},(0,r.kt)("p",{parentName:"admonition"},"Tu peux cumuler toutes ces fonctionnalit\xe9s entre elles","\xa0","!")),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},"case multiple avec un\ns\xe9parateur ",(0,r.kt)("inlineCode",{parentName:"p"},",")," ",(0,r.kt)("a",{parentName:"p",href:"https://www.oracle.com/java/technologies/javase/14all-relnotes.html#NewFeature"},"@since Java 14")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'switch (i) {\n  case 1, 2, 3 :\n    System.out.println("Value is " + i);\n    break;\n  default :\n    throw new IllegalArgumentException("Number is not supported");\n}\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"->")," remplace ",(0,r.kt)("inlineCode",{parentName:"p"},":")," et \xe9vite\nle ",(0,r.kt)("inlineCode",{parentName:"p"},"break")," ",(0,r.kt)("a",{parentName:"p",href:"https://www.oracle.com/java/technologies/javase/12all-relnotes.html#NewFeature"},"@since Java 12")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'switch (i) {\n  case 1, 2, 3 -> System.out.println("Value is " + i);\n  default      -> throw new IllegalArgumentException("Number is not supported");\n}\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"->")," peut \xeatre utilis\xe9 pour renvoyer une\nvaleur ",(0,r.kt)("a",{parentName:"p",href:"https://www.oracle.com/java/technologies/javase/14all-relnotes.html#NewFeature"},"@since Java 14")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'String vehicleType = switch (wheelNumber) {\n  case 2  -> "bicycle";\n  case 4  -> "car";\n  default -> "Unknown vehicle";\n};\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"->")," switch sur le type pour ",(0,r.kt)("em",{parentName:"p"},"caster")," \xe0 la\nvol\xe9e ",(0,r.kt)("a",{parentName:"p",href:"https://www.oracle.com/java/technologies/javase/17all-relnotes.html#NewFeature"},"@since Java 17 preview")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'static String getType(Object o) {\n  return switch (o) {\n    case Integer i -> String.format("%d is an integer", i);\n    case Long l    -> String.format("%d is a big integer!", l);\n    case Double d  -> String.format("%f is a decimal number!", d);\n    case String s  -> String.format("%s is a String!", s);\n    default        -> "Non reconnu"; \n  };\n}\n')))),(0,r.kt)("h2",{id:"class-modifier"},"Class modifier"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"record")," : nouveau type de class : immutable et\ng\xe9n\xe8re ",(0,r.kt)("inlineCode",{parentName:"p"},"getter/hashCode/equals")," ",(0,r.kt)("a",{parentName:"p",href:"https://www.oracle.com/java/technologies/javase/14all-relnotes.html#NewFeature"},"@since Java 14")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},"record ColorRecord(int red, int green, int blue) {};\nColorRecord color = new ColorRecord(255, 10, 10);\ncolor.red();\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("p",{parentName:"li"},(0,r.kt)("inlineCode",{parentName:"p"},"sealed")," : afin de verrouiller les possibilit\xe9s\nd'h\xe9ritage ",(0,r.kt)("a",{parentName:"p",href:"https://www.oracle.com/java/technologies/javase/16all-relnotes.html#NewFeature"},"@since Java 16")),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},"abstract sealed class Person permits Employee, Boss {\n  String name;\n}\nfinal class Employee extends Person {\n  int id;  \n  int getEmployeeId() {\n    return id;\n  }\n}\nfinal class Boss extends Person { }\n\n// Va g\xe9n\xe9rer une erreur \xe0 la compilation\nfinal class Customer extends Person { } \n")))),(0,r.kt)("h2",{id:"formatage"},"Formatage"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"NumberFormat")," : ajout d'un formatage ",(0,r.kt)("inlineCode",{parentName:"li"},"SHORT")," : 10k, 1M,\netc. ",(0,r.kt)("a",{parentName:"li",href:"https://www.oracle.com/java/technologies/javase/12all-relnotes.html#NewFeature"},"@since Java 12"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},"NumberFormat.getCompactNumberInstance(Locale.FRANCE, NumberFormat.Style.SHORT);\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"NumberFormat")," : ajout d'un formatage ",(0,r.kt)("inlineCode",{parentName:"li"},"LONG"),"; avec ",(0,r.kt)("inlineCode",{parentName:"li"},"Locale")," : 1 million, 2 mille,\netc. ",(0,r.kt)("a",{parentName:"li",href:"https://www.oracle.com/java/technologies/javase/14all-relnotes.html#NewFeature"},"@since Java 14"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},"NumberFormat.getCompactNumberInstance(Locale.FRANCE, NumberFormat.Style.LONG);\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"NumberFormat")," : ajout d\u2019un formatage monnaie, avec ",(0,r.kt)("inlineCode",{parentName:"li"},"Locale")," : $3.24, 5,61\u20ac,\netc. ",(0,r.kt)("a",{parentName:"li",href:"https://www.oracle.com/java/technologies/javase/14all-relnotes.html#NewFeature"},"@since Java 14"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},"NumberFormat.getCurrencyInstance(Locale.FRANCE)\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"DateTimeFormatter")," : ajout du cycle, avec ",(0,r.kt)("inlineCode",{parentName:"li"},"Locale")," : du matin, de l'apr\xe8s-midi,\netc. ",(0,r.kt)("a",{parentName:"li",href:"https://www.oracle.com/java/technologies/javase/16all-relnotes.html#NewFeature"},"@since Java 16"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'DateTimeFormatter.ofPattern("B", Locale.FRANCE)\n')))),(0,r.kt)("h2",{id:"divers"},"Divers"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"String")," : bloc String multiligne\navec ",(0,r.kt)("inlineCode",{parentName:"li"},'"""')," ",(0,r.kt)("a",{parentName:"li",href:"https://www.oracle.com/java/technologies/javase/13all-relnotes.html#NewFeature"},"@since Java 13"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'// pour le m\xeame rendu :\nString withoutMultiline = "{\\n" +\n    "  \\"id\\":213,\\n" +\n    "  \\"name\\":\\"Nathaniel\\"\\n" +\n    "}";\nString withMultiline = """\n    {\n      "id":213,\n      "name":"Nathaniel"\n    }""";\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Exception")," : meilleur message de debug sur les ",(0,r.kt)("inlineCode",{parentName:"li"},"Exception"),", en particulier\nles ",(0,r.kt)("inlineCode",{parentName:"li"},"NullpointerException")," ",(0,r.kt)("a",{parentName:"li",href:"https://www.oracle.com/java/technologies/javase/17all-relnotes.html#NewFeature"},"@since Java 17"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'String s = null;\nSystem.out.println(s.toLowerCase());\n// => Exception in thread "main" java.lang.NullPointerException: Cannot invoke "String.toLowerCase()" because "s" is null\n'))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"instanceof")," : peut \xeatre suivi d'un nom de variable afin de caster\nimm\xe9diatement ",(0,r.kt)("a",{parentName:"li",href:"https://www.oracle.com/java/technologies/javase/16all-relnotes.html#NewFeature"},"@since Java 16"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},"Person p = new Employee();\nif (p instanceof Employee employee){\n    System.out.println(employee.getEmployeeId());\n}\n"))),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("inlineCode",{parentName:"li"},"Stream.toList")," : afin d\u2019\xe9viter de passer par\nun ",(0,r.kt)("inlineCode",{parentName:"li"},".collect(Collectors.toList())")," ",(0,r.kt)("a",{parentName:"li",href:"https://www.oracle.com/java/technologies/javase/16all-relnotes.html#NewFeature"},"@since Java 16"),(0,r.kt)("pre",{parentName:"li"},(0,r.kt)("code",{parentName:"pre",className:"language-java"},'// avant\nList.of("some","thing").stream().collect(Collectors.toList());\n// maintenant\nList.of("some","thing").stream().toList();\n')))),(0,r.kt)("h2",{id:"les-fiches"},"Les fiches"),(0,r.kt)("ul",null,(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{target:"_blank",href:t(8435).Z},"pdf")),(0,r.kt)("li",{parentName:"ul"},(0,r.kt)("a",{target:"_blank",href:t(2341).Z},"md"))),(0,r.kt)("h2",{id:"informations"},"Informations"),(0,r.kt)("h3",{id:"pourquoi"},"Pourquoi","\xa0","?"),(0,r.kt)("p",null,"Les chiffres changent, mais les faits restent.\nEn 2022, \xe0 la publication de cette fiche, ",(0,r.kt)("a",{parentName:"p",href:"https://fr.wikipedia.org/wiki/New_Relic"},"New Relic")," publiait un ",(0,r.kt)("a",{parentName:"p",href:"https://newrelic.com/fr/resources/report/2022-state-of-java-ecosystem#toc-java-11-est-la-nouvelle-norme"},"rapport")," sur l'usage de Java","\xa0",":"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"center"}),(0,r.kt)("th",{parentName:"tr",align:"center"},"Java 8"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Java 11"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"2020"),(0,r.kt)("td",{parentName:"tr",align:"center"},"84,48 %"),(0,r.kt)("td",{parentName:"tr",align:"center"},"11,11%")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"center"},"2022"),(0,r.kt)("td",{parentName:"tr",align:"center"},"46,45 %"),(0,r.kt)("td",{parentName:"tr",align:"center"},"48%")))),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"https://fr.wikipedia.org/wiki/Java_(langage)#Java_SE_17"},"Java 17")," \xe9tant la nouvelle version ",(0,r.kt)("a",{parentName:"p",href:"https://fr.wikipedia.org/wiki/Long-term_support"},"LTS")," de Java, il y a fort \xe0 parier que les migrations seront nombreuses.\nDe plus, les versions 12 \xe0 16 sont assez peu utilis\xe9es. J'ai d\xe9cid\xe9 de faire le grand \xe9cart, comme beaucoup et de passer de la 11 \xe0 la 17. Oui, cette fiche servira donc au moins \xe0 une personne","\xa0","!"),(0,r.kt)("h3",{id:"sources"},"Sources"),(0,r.kt)("p",null,"Comme indiqu\xe9 au fur et \xe0 mesure, les ",(0,r.kt)("a",{parentName:"p",href:"https://www.oracle.com/java/technologies/java-se-glance.html"},"Release Notes")," des diff\xe9rentes versions de Java."),(0,r.kt)("h3",{id:"auteurs"},"Auteurs"),(0,r.kt)("p",null,(0,r.kt)("a",{parentName:"p",href:"../about#nathaniel-vaur-henel"},"Nathaniel Vaur Henel")),(0,r.kt)("hr",null),(0,r.kt)("p",null,(0,r.kt)("em",{parentName:"p"},"Cette fiche a \xe9t\xe9 publi\xe9e en premier sur ",(0,r.kt)("a",{parentName:"em",href:"https://nathaniel-vaur-henel.github.io/"},"https://nathaniel-vaur-henel.github.io/")," par ",(0,r.kt)("a",{parentName:"em",href:"../about#nathaniel-vaur-henel"},"Nathaniel Vaur Henel")," sous licence ",(0,r.kt)("a",{parentName:"em",href:"https://creativecommons.org/licenses/by/4.0/"},"Attribution 4.0 International"))))}u.isMDXComponent=!0},2341:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/files/_java11_17_card-a7da413cd4817818914c672f15794063.markdown"},8435:(e,a,t)=>{t.d(a,{Z:()=>n});const n=t.p+"assets/files/_java11_17_card-f1fb3c652e15edf575f0aae6aef9537b.pdf"}}]);